<!DOCTYPE html>
<html lang="zh-CN">
<html data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <title>Markdown Studio</title>

  <!-- highlight.js 深浅主题 -->
  <link id="hljs-light" rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  <link id="hljs-dark" rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css"
        disabled>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="style.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

</head>

<body>

<header class="topbar">
  <button id="toggleSidebar" title="侧边栏">☰</button>
  <div class="title">📝 仓库链接:https://github.com/222twotwotwo/editor.github.io</div>
  <div class="actions">
    <button id="toggleRightSidebarBtn" title="文件列表">📂</button>
    <button id="soundToggle">🔊</button>
    <button id="themeToggle">🌙</button>
    <button id="exportBtn">导出 HTML</button>
    <button id="exportMdBtn">导出 MD</button> <!-- 新增导出MD按钮 -->
    <button id="exportPdfBtn">导出 PDF</button>
  </div>
</header>

<div class="container">

  <!-- 左侧侧边栏 -->
  <aside class="sidebar collapsed" id="sidebar">

    <section class="panel">
      <h3>📦 GitHub 仓库</h3>
      <input id="repoOwner" placeholder="用户名">
      <input id="repoName" placeholder="仓库名">
      <input id="filePath" placeholder="路径，如 docs/test.md">
      <input id="tokenInput" placeholder="Token" type="password">
      <button id="uploadGithubBtn">⬆️ 上传 Markdown</button>
    </section>

    <section class="panel">
      <h3>📊 上传指标</h3>
      <p id="todayCount">今日上传：0 次</p>
      <canvas id="uploadChart" height="140"></canvas>
    </section>

  </aside>

  <!-- 主内容区 -->
  <main class="main">
    <div class="editor-container">
      <textarea id="editor" placeholder="在这里编写 Markdown..."></textarea>
      <div id="preview"></div>
    </div>
    <input type="file" id="fileInput" accept=".md">
  </main>

  <!-- 右侧文件管理侧边栏 -->
  <aside class="sidebar-right collapsed" id="sidebarRight">
    <section class="panel">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3>📂 文件管理</h3>
        <div>
          <button id="newFileBtn" title="新建文件">+</button>
          <button id="toggleRightSidebar" title="隐藏侧边栏">⊗</button>
        </div>
      </div>
      <div id="fileList" class="file-list">
        <!-- 文件列表将通过JS动态生成 -->
      </div>
    </section>
    <section class="panel">
      <h3>文件操作</h3>
      <input id="fileNameInput" placeholder="文件名（不含.md）">
      <button id="saveFileBtn">💾 保存文件</button>
      <button id="deleteFileBtn">🗑️ 删除当前文件</button>
      <button id="importFileBtn">📂 导入文件</button>
    </section>
  </aside>

</div>

<!-- Libs -->
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>

<script src="script.js"></script>
</body>
</html>


